<!-- Replaced all collision mesh references in the file to visiual meshes. 
This file was originally generated with both collision and visual meshes in the urdf file
Should it redone with all collision mesh replaced in the urdf? -->
<mujoco model="abb_irb14000">
    <compiler angle="radian" meshdir="/home/shahbaz/Research/Software/Spyder_ws/gps/yumi_model/" />
    <option timestep="0.01" gravity="0 0 0" iterations="20" integrator="RK4" />
    <!-- Copied from PR2 model in GPS. This was necessary to get natural behaviour -->
    <default>
        <joint armature="0.04" damping="1" limited="true" />
        <geom friction=".5 .1 .1" margin="0.002" condim="1" contype="0" conaffinity="1" />
    </default>
    <size njmax="500" nconmax="100" />
    <asset>
        <mesh name="base_link_v" file="base_link_v.stl" />
        <mesh name="base_link_c" file="base_link_c.stl" />
        <mesh name="right_link_1_v" file="right_link_1_v.stl" />
        <mesh name="right_link_1_c" file="right_link_1_c.stl" />
        <mesh name="right_link_2_v" file="right_link_2_v.stl" />
        <mesh name="right_link_2_c" file="right_link_2_c.stl" />
        <mesh name="right_link_3_v" file="right_link_3_v.stl" />
        <mesh name="right_link_3_c" file="right_link_3_c.stl" />
        <mesh name="right_link_4_v" file="right_link_4_v.stl" />
        <mesh name="right_link_4_c" file="right_link_4_c.stl" />
        <mesh name="right_link_5_v" file="right_link_5_v.stl" />
        <mesh name="right_link_5_c" file="right_link_5_c.stl" />
        <mesh name="right_link_6_v" file="right_link_6_v.stl" />
        <mesh name="right_link_6_c" file="right_link_6_c.stl" />
        <mesh name="right_link_7_v" file="right_link_7_v.stl" />
        <mesh name="right_link_7_c" file="right_link_7_c.stl" />
        <mesh name="smart_gripper_v" file="smart_gripper_v.stl" />
        <mesh name="smart_gripper_c" file="smart_gripper_c.stl" />
    </asset>
    <worldbody>
		<!-- ======================Adding lighting (why is it inside worldbody?)======================== -->
		<light cutoff="100" diffuse="1 1 1" dir="-0 0 -1.3" directional="true" exponent="1" pos="0 0 1.3" specular=".1 .1 .1"/>
		<geom contype="1" conaffinity="0" condim="1" name="floor" pos="0 0 0" rgba="0.8 0.9 0.8 1" size="20 20 .125" type="plane" material="MatPlane"/>
		<!-- ======================Adding robot model======================== -->
        <body name="base_link" pos="0 0 0">
            <inertial pos="-0.172194 -0.000976297 0.164215" quat="0.704188 -0.0569853 -0.0576709 0.705369" mass="64.4428" diaginertia="2.55006 2.13906 1.29867" />
            <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="base_link_v" />
            <geom type="mesh" rgba="1 1 1 1" mesh="base_link_v" />
            <body name="right_link_1" pos="0.02767 -0.06163 0.39997">
                <inertial pos="0.0579499 -0.0237766 0.0585117" quat="0.888611 0.00706116 0.284115 -0.359999" mass="1.68708" diaginertia="0.00596179 0.00577136 0.00264553" />
                <joint name="right_joint_1" pos="0 0 0" axis="0.813782 -0.342033 0.469864" limited="true" range="-2.92343 2.92343" damping="1.06"/>
                <geom type="mesh" contype="0" conaffinity="0" group="1" mesh="right_link_1_v" />
                <geom type="mesh" mesh="right_link_1_v" />
                <body name="right_link_2" pos="0.08697 -0.04182 0.09986">
                    <inertial pos="0.0673887 -0.0458319 -0.00894338" quat="0.789632 0.235697 0.454133 0.338661" mass="2.25414" diaginertia="0.0112853 0.0110502 0.00382215" />
                    <joint name="right_joint_2" pos="0 0 0" axis="-0.107006 0.706538 0.699538" limited="true" range="-2.48709 0.741765" damping="1.09" />
                    <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="right_link_2_v" />
                    <geom type="mesh" rgba="1 1 1 1" mesh="right_link_2_v" />
                    <body name="right_link_3" pos="0.12136 -0.04574 0.02043">
                        <inertial pos="0.0841711 -0.00546401 0.046357" quat="0.221398 0.457214 0.28036 0.814454" mass="1.17909" diaginertia="0.00350236 0.00337992 0.00139159" />
                        <joint name="right_joint_3" pos="0 0 0" axis="0.813782 -0.342123 0.469799" limited="true" range="-2.92343 2.92343" damping="0.61"/>
                        <geom type="mesh" contype="0" conaffinity="0" group="1" mesh="right_link_3_v" />
                        <geom type="mesh" mesh="right_link_3_v" />
                        <body name="right_link_4" pos="0.12282 0.00844 0.06476">
                            <inertial pos="0.0548802 -0.00721442 -0.0586922" quat="0.40553 0.120895 0.776964 0.466108" mass="1.83037" diaginertia="0.00817678 0.00792391 0.00267348" />
                            <joint name="right_joint_4" pos="0 0 0" axis="-0.106857 0.706733 0.699364" limited="true" range="-2.13803 1.37881" damping="0.08"/>
                            <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="right_link_4_v" />
                            <geom type="mesh" rgba="1 1 1 1" mesh="right_link_4_v" />
                            <body name="right_link_5" pos="0.11181 0.04026 -0.07815">
                                <inertial pos="0.0356561 0.0670094 -0.0327934" quat="0.70858 0.584035 0.128687 -0.37451" mass="0.68372" diaginertia="0.00168264 0.00161801 0.000501278" />
                                <joint name="right_joint_5" pos="0 0 0" axis="0.571257 0.619307 -0.538631" limited="true" range="-5.044 5.044" damping="0.08"/>
                                <geom type="mesh" contype="0" conaffinity="0" group="1" mesh="right_link_5_v" />
                                <geom type="mesh" mesh="right_link_5_v" />
                                <body name="right_link_6" pos="0.04951 0.12621 -0.05134">
                                    <inertial pos="0.00963643 -0.0499608 -0.0270555" quat="0.619994 -0.113325 0.143626 0.762979" mass="0.627544" diaginertia="0.000807004 0.000780265 0.000722194" />
                                    <joint name="right_joint_6" pos="0 0 0" axis="-0.106662 0.706635 0.699493" limited="true" range="-1.51844 2.3911" damping="0.08"/>
                                    <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="right_link_6_v" />
                                    <geom type="mesh" rgba="1 1 1 1" mesh="right_link_6_v" />
                                    <body name="right_link_7" pos="0.02596 -0.0444 -0.01981">
                                        <inertial pos="0.0144296 0.0160357 -0.0132869" quat="0.201483 0.412494 -0.819005 0.344216" mass="0.0748575" diaginertia="2.59881e-05 2.12717e-05 2.08339e-05" />
                                        <joint name="right_joint_7" pos="0 0 0" axis="0.571393 0.619384 -0.538399" limited="true" range="-3.97935 3.97935" damping="0.52"/>
                                        <geom type="mesh" contype="0" conaffinity="0" group="1" mesh="right_link_7_v" />
                                        <geom type="mesh" mesh="right_link_7_v" />
                                        <body name="right_tool0" pos="0.02173 0.02341 -0.02059" quat="0.297586 0.0673761 0.874618 0.376758">
                                            <inertial pos="0.02173 0.02341 -0.02059" quat="0.297586 0.0673761 0.874618 0.376758" mass="0" diaginertia="0 0 0" />
                                            <body name="right_gripper_base" pos="0 0 0">
                                                <inertial pos="1.20154e-05 0.00242304 0.0527266" quat="0.706871 0.00701907 -0.0072129 0.707271" mass="0.563549" diaginertia="0.00101254 0.000796983 0.000496939" />
                                                <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="smart_gripper_v" />
                                                <geom type="mesh" rgba="1 1 1 1" mesh="smart_gripper_v" />
<!--
                                                <body name="right_object_frame" pos="0 0 0.12">
-->
												<body name="right_object_frame" pos="0 -0.05 0.12">
													<!-- Two point on top and bottom of the peg used for additional state variables -->
<!--
                                                    <site name="leg_bottom" pos="0 0.05 0" size="0.005" />
                                                    <site name="leg_top" pos="0 -0.15 0" size="0.005" />
-->
													<site name="leg_bottom" pos="0 0.1 0" size="0.005" />
                                                    <site name="leg_top" pos="0 -0.1 0" size="0.005" />
													<!-- The peg! -->
                                                    <body name="ball" pos="0 0 0">
<!--
                                                        <geom name="ball_geom" rgba="0.8 0.6 0.6 1" type="cylinder" group="1" fromto="0 -0.15 0 0 0.05 0" size="0.025" density="2000" contype="2" conaffinity="1" />
-->
                                                        <geom name="ball_geom" rgba="0.8 0.6 0.6 1" type="box" group="1" size="0.025 0.1 0.025" density="2000" contype="2" conaffinity="1" />
<!--
                                                        <geom name="ball_geom" rgba="0.8 0.6 0.6 1" type="box" group="1" size="0.025 0.1 0.025" contype="2" conaffinity="1" />
-->
   
                                                    </body>
                                                </body>
                                            </body>
                                        </body>
                                    </body>
                                </body>
                            </body>
                        </body>
                    </body>
                </body>
            </body>
        </body>
        
<!--
        <body name="g1" pos="0.034 0.3 -0.47" axisangle="0 1 0 0.05">
            <geom name="g1" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.003 0.01 0.05" contype="1" conaffinity="1" />
        </body>

        <body name="g2" pos="-0.034 0.3 -0.47" axisangle="0 1 0 -0.05">
            <geom name="g2" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.003 0.01 0.05" contype="1" conaffinity="1" />
        </body>

        <body name="g3" pos="0.0 0.334 -0.47" axisangle="1 0 0 -0.05">
            <geom name="g3" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.01 0.003 0.05" contype="1" conaffinity="1" />
        </body>

        <body name="g4" pos="0.0 0.266 -0.47" axisangle="1 0 0 0.05">
            <geom name="g4" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.01 0.003 0.05" contype="1" conaffinity="1" />
        </body>

        <body name="fl" pos="0.0 0.3 -0.55">
            <geom name="fl" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.2 0.2 0.05" contype="1" conaffinity="1" />
        </body>

        <body name="w1" pos="0.216 0.3 -0.45">
            <geom name="w1" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.183 0.3 0.05" contype="1" conaffinity="1" />
        </body>

        <body name="w2" pos="-0.216 0.3 -0.45">
            <geom name="w2" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.183 0.3 0.05" contype="1" conaffinity="1" />
        </body>

        <body name="w3" pos="0.0 0.516 -0.45">
            <geom name="w3" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.032 0.183 0.05" contype="1" conaffinity="1" />
        </body>
        
        <body name="w4" pos="0.0 0.084 -0.45">
            <geom name="w4" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.032 0.183 0.05" contype="1" conaffinity="1" />
        </body>
-->
		<!-- ======================The hole setup================================== -->
		<body name="g1" pos="0.432 -0.45 0.08" axisangle="0 1 0 0.05">
            <geom name="g1" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.003 0.01 0.05" contype="1" conaffinity="1" />
        </body>
        
		<body name="g2" pos="0.368 -0.45 0.08" axisangle="0 1 0 -0.05">
            <geom name="g2" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.003 0.01 0.05" contype="1" conaffinity="1" />
        </body>

        <body name="g3" pos="0.4 -0.418 0.08" axisangle="1 0 0 -0.05">
            <geom name="g3" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.01 0.003 0.05" contype="1" conaffinity="1" />
        </body>

        <body name="g4" pos="0.4 -0.482 0.08" axisangle="1 0 0 0.05">
            <geom name="g4" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.01 0.003 0.05" contype="1" conaffinity="1" />
        </body>

        <body name="fl" pos="0.4 -0.45 0">
            <geom name="fl" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.168 0.168 0.05" contype="1" conaffinity="1" />
        </body>

        <body name="w1" pos="0.5 -0.45 0.1">
            <geom name="w1" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.068 0.1 0.05" contype="1" conaffinity="1" />
        </body>

        <body name="w2" pos="0.3 -0.45 0.1">
            <geom name="w2" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.068 0.1 0.05" contype="1" conaffinity="1" />
        </body>

        <body name="w3" pos="0.4 -0.35 0.1">
            <geom name="w3" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.032 0.068 0.05" contype="1" conaffinity="1" />
        </body>
        
        <body name="w4" pos="0.4 -0.55 0.1">
            <geom name="w4" rgba="0.2 0.2 0.2 1" type="box" group="1" size="0.032 0.068 0.05" contype="1" conaffinity="1" />
        </body>
    </worldbody>
    <!-- ======================Visualizing the world================================== -->
    <asset>
        <texture type="skybox" builtin="gradient" rgb1=".4 .5 .6" rgb2="0 0 0"
            width="100" height="100"/>        
        <texture builtin="flat" height="1278" mark="cross" markrgb="1 1 1" name="texgeom" random="0.01" rgb1="0.8 0.6 0.4" rgb2="0.8 0.6 0.4" type="cube" width="127"/>
        <texture builtin="checker" height="100" name="texplane" rgb1="0 0 0" rgb2="0.8 0.8 0.8" type="2d" width="100"/>
        <material name="MatPlane" reflectance="0.01" shininess="1" specular="1" texrepeat="60 60" texture="texplane"/>
        <material name="geom" texture="texgeom" texuniform="true"/>
    </asset>
    <!-- ======================Adding actuactors================================== -->
    <!-- May have to change ctrlrange, is it in radians?
    gearratio as per abb convention													-->
    <actuator>
			<motor ctrllimited="true" ctrlrange="-100.0 100.0" gear="1" joint="right_joint_1"/>
			<motor ctrllimited="true" ctrlrange="-100.0 100.0" gear="1" joint="right_joint_2"/>
			<motor ctrllimited="true" ctrlrange="-100.0 100.0" gear="1" joint="right_joint_3"/>
			<motor ctrllimited="true" ctrlrange="-100.0 100.0" gear="1" joint="right_joint_4"/>
			<motor ctrllimited="true" ctrlrange="-100.0 100.0" gear="1" joint="right_joint_5"/>
			<motor ctrllimited="true" ctrlrange="-100.0 100.0" gear="1" joint="right_joint_6"/>
			<motor ctrllimited="true" ctrlrange="-100.0 100.0" gear="1" joint="right_joint_7"/>
	</actuator>
</mujoco>
